<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<!--点击Submit按钮，检查是否选择type，若没有，给出提示“请选择类型”；
        检查文本框是否有内容输入，若没有输入，给出提示：“请输入内容”
        若请求都通过，在对应的ul节点加入li节点
        点击li节点，弹出li节点对应的文本内容框
        点击li节点，节点内容互换
        点击li节点，点击确定删除，对应的li节点
        -->
<!--点击不同的li节点，会互换上下两个节点的内容-->

<script>
    window.onload = function() {
        var submit = document.getElementById("test1");
        var ulNode = document.getElementById("游戏");
        var liNodes = document.getElementsByTagName("li");

//        alert(1);
//       ulNode.replaceChild(liNodes[0],liNodes[2]);
        /*
            点击标签，弹出文本框pop（）；
         */
//        var pop = function() {
//            for (var i = 0; i < liNodes.length; i++) {
//                liNodes[i].onclick = function () {
//                    alert(this.firstChild.nodeValue);
//                }
//            }
//        }
//        pop();
        /*
        * 点击标签，标签内容互换
        * */
//        for(var i=0;i<liNodes.length;i++){
//            var length = liNodes.length;
//            liNodes[i].index = i+1 ;
//            liNodes[i].onclick = function(){
//                var exchangeNode = null;
//                if(this.index>(length/2)){
//                    exchangeNode = liNodes[(this.index - length/2)-1];
//                }else{
//                    exchangeNode = liNodes[(this.index + length/2)-1];
//                }
//                var tempIndex = this.index ;
//                this.index = exchangeNode.index;
//                exchangeNode.index = tempIndex ;
//                replaceEach(this,exchangeNode);
//            }
//        }
//        var replaceEach = function(aNode,bNode){
//            var cNode = aNode.cloneNode(true);
//            var aParent = aNode.parentNode;
//            var bParent = bNode.parentNode;
//            bParent.replaceChild(cNode,bNode);
//            aParent.replaceChild(bNode,aNode);
//            bParent.replaceChild(aNode,cNode);               //为什么要添加这条
//        }
        /*点击节点，弹框确认删除*/
        for(var i = 0;i<liNodes.length;i++){
            liNodes[i].onclick = function(){
                var flag = confirm("确定要删除吗？");
                if(flag = true){
                    var aParent = this.parentNode;
                    aParent.removeChild(this);
                }
            }
        }

        submit.onclick = function () {
            var leixing = document.getElementById("类型");
            var leixingOption = leixing.getElementsByTagName("option");
            var selectType = null ;
            var textValue = document.getElementById("text1").value;
            var reg =/^\s*|\s*$/g;
            textValue = textValue.replace(reg,"");

            for(var i=0;i<leixingOption.length;i++){
                if(leixingOption[i].selected){
                    selectType = leixingOption[i].firstChild.nodeValue;
                }
            }

            if(selectType!=null&&selectType!="请选择类型"){
                if(textValue!=""){
                    alert(textValue);
                    var liNode = document.createElement("li");
                    var liTextNode = document.createTextNode(textValue);
                    liNode.appendChild(liTextNode);
                    ulNode.appendChild(liNode);
//                    pop();
                return false;
            }else{
                alert("请输入文本内容");
            }
        }else{
                alert("请选择类型！！")
            }
            return false;
        }
    }
</script>
    <body>
    <form action="JsTest1.html">
        <ul id="游戏">
            <li>魔兽</li>
            <li>极品飞车</li>
            <li>实况</li>
            <li>红警</li>
        </ul>
        <ul id="城市">
            <li>北京</li>
            <li>上海</li>
            <li>广州</li>
            <li>深圳</li>
        </ul>

        <select id="类型">
            <option value="默认" selected >请选择类型</option>
            <option>类型一</option>
            <option>类型二</option>
            <option>类型三</option>
            <option>类型四</option>
        </select>
        <br/><br/>
        name:<input type="text" id="text1" value="">
        <input type="submit" id="test1" value="Submit">
    </form>

</body>
</html>